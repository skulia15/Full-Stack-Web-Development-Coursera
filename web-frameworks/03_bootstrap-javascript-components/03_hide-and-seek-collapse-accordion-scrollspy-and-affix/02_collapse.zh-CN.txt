现在让我们谈谈"折叠"插件 这个插件是 Bootstrap 的 JavaScript 组件之一 我们将会学习如何在我们的网页中
利用折叠插件 类显示或者隐藏某些内容 我们会先探索折叠插件和我们的导航栏
之间的配合 亦即如何让我们的导航栏在屏幕尺寸为最小时 自动折叠起来 同时在用户点击某个按钮时能重新显现 在这之后 我们将会学习如何在
应用折叠插件的同时 运用面板和面板组来实现一个折叠 折叠插件向你提供了一个非常快速且简易的方式 来实现显示或隐藏我们网页上的内容的功能 我们希望 当用户点击一个按钮或一个链接时
我们特定的内容 能够根据用户的动作来显示或隐藏 接下来先让我们看一个应用折叠插件的栗子 对于其背后的代码 我们稍后再看 那么来看看这个简单的栗子 我们可以看到
在页面的左边 显示了一些内容 而在右边则有一个按钮 当你单击这个按钮时 你会发现在左边的内容会从显示到消失
又或从消失到显示 现在让我们来演示一下…… 当你单击这个按钮 内容便会消失 当你再次单击这个按钮时 内容又会再度显现 而这个神奇的"切换"功能就是用折叠插件实现的 接下来让我们看看代码是怎么写的 可以看到实现这个折叠的方法是用一个 div 并设置了 class="collapse in" 这里我们用到了两个类 collapse 类和 in 类 而在这个 div 下面就是我们的内容 这些内容就是那些会一下消失一下出现的内容 下一个环节自然就是按钮 这个按钮就是用来控制上述内容的消失和出现的 我们用了一个 a 标签来实现这个按钮 同时设置了 class="btn btn-primary" 注意到为了实现之前那种神奇的切换 我们还需要给按钮设置数据属性
data-toggle="collapse" 并将其目标用 href 表示 在这个栗子里 我们是用 id 来指定
按钮的作用对象的 通过 href="#collapseExample" 来指定 上面定义的那个 id 为 collapseExample 的 div 那么这些代码加起来 就实现了之前我们看的那个简单栗子的所有功能 现在让我们回到我们在一开始看到的那个导航栏 你大概能想起当屏幕尺寸为最小时
在右边会出现一个按钮 当我们点击这个按钮时 它会进行内容的
显隐切换 你大概已经猜到了 这就是用折叠插件实现的 当时我曾经说过我会在后面的某个模块 详细地阐述这个按扭的实现 而现在正是详细阐述的时候 我们将会通过代码来理解 折叠插件是怎么实现这个酷炫的显隐功能的 看回这一段源代码 我们现在可以看到这个按钮 是设置了 data-toggle="collapse" 和 data-target="#navbar" 的 如果你回忆起我们第一周解释导航时 我曾经点出过这两者的话 如今的你既已经知道了 JavaScript 组件
作用于 Bootstrap 的原理 想必对当初我的言论会有更深的理解罢 总之 要点就是实现 data-toggle="collapse" 和将 data-target 指向 navbar 至于整个导航的元素 则是一个封装在 div 中的 ul 同时需要将这个外层的 div 设置为
class="navbar-collapse collapse" 于是 当你在最小的屏幕尺寸下浏览网页时 导航栏的默认状态是折叠起来 因为那个 div 只有一个 collapse 类 而没有一个表示显示的 in 类 而如果你一开始就设置了 in 类的话 那个 div 就会显示出来 也就是看上去和平时一样 所以既然这里我们没有用 in 类 那些内容自然就被折叠了 而当我们单击这个按钮时 内容会显示出来 而再次点击后 内容又会被隐藏 这个神奇的功能正是通过在导航栏上 应用折叠插件来实现的 这些种种 阐述了如何在最小屏幕尺寸下 通过在导航栏上应用折叠插件来达到一种
很好的效果 回到我们的 aboutus.html 页面 我们接下来需要用一个折叠来代替
我们之前实现的 这整个显示合伙企业领导信息的页签导航 我们将用一个面板组来实现这个折叠 顾名思义的 面板组将会封装一系列面板 我们已经在之前的单元中学过怎么实现面板 现在我们将活用面板来实现一个折叠 我们需要实现的效果是 当我们一开始
点进这个网页时 第一个面板的内容将会呈现 同时其它面板的内容将被隐藏 而当你点击其它的面板时 那个特定的面板的内容将会呈现 同时其它内容将被隐藏 我们可以一个一个地 反复地 进行这种显隐状态的切换 而这就是所谓的折叠了 接下来让我们快速地看一下 如何通过面板和面板组来实现它 我们可以看到 左侧的代码实现的 就是右边的效果 仔细地看代码 你可以发现我们将所有的内容 都封装进了一个外层的 div 里面 而这个 div 被设置了 class="panel-group"
和 id="accordion" 同时在这个 div 的下面 我们可以看到许多
被封装起来的 不同的面板 而这些面板都有一个标题和一个内容体 在标题里 我用了带 class="panel-title" 的 h3 标签 而在这个 h3 标签中我又用了一个 a 标签 来装这个公司领导人的名字 同时 这个 a 标签还被设置了 role="button" 和 data-toggle="collapse" 这些加在一起 就实现了我们之前 看到的那种显隐状态切换 的效果 当然在 a 标签的 data-toggle 后面要接一个 href 这个 href 应当指向下面相应定义的面板 除了 Glyphicons 之外 我还设置了另一个数据属性
data-parent="#accordion" 这声明了这个面板时“属于” accordion 的 而“同属”一个含有
class="panel-group" 属性的 div 的面板中 只能有一个被显示而其它都需被隐藏 这就是为什么我们需要将 data-parent
指向最外层的那个 div 至于面板的内容 则会被封装进一个 div 这个 div 会被设置
class="panel-collapse collapse in" 注意到有了 in 就表示在刚打开界面时 这一块内容会被显示出来 所以当我们只对其中一个面板应用 in 类时 就会呈现右图这样的 只有一个面板内容被呈现 而其它面板内容都被隐藏的效果 注意到我将 id 的名字都设置好了 这些 id 能很好地对应上之前 a 标签里的 href 而在 panel-collapse 里面 我们将会用一个 p 标签来封装那些
我们想要呈现的内容 而这个 p 标签的外层需为一个设置了 class="panel-body" 的 div 也就是外层 div 保证了折叠的功能 内层 div 包含了实际的内容 那么 当我们做完了上述种种工作 当我们将所有面板封装进了
同一个 panel-group 下 当我们将这些面板的 data-parent
同时指向了这个 panel-group 当我们很好地设置了各个类 当我们很好地设置了各个 id 之后 我们之前看的那种显隐状态切换的效果 就全部实现完毕了 以上 就是关于如何实现折叠的全部内容
【翻译 - Carefree0910】